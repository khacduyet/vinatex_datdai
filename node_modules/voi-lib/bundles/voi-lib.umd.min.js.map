{"version":3,"sources":["../../../projects/voi-lib/src/lib/voi-lib.service.ts","../../../projects/voi-lib/src/lib/voi-lib.component.ts","../../../projects/voi-lib/src/lib/pintable.directive.ts","../../../projects/voi-lib/src/lib/voi-lib.module.ts"],"names":["Injectable","args","providedIn","VoiLibComponent","prototype","ngOnInit","Component","selector","template","PintableDirective","elementRef","renderer","this","pinnedCols","ngAfterViewInit","active","listen","nativeElement","querySelector","onScroll","bind","event","_this","header","body","style","transform","srcElement","scrollLeft","childNodes","forEach","tr","n","i","_a","undefined","_b","position","Directive","ElementRef","Renderer2","Input","NgModule","declarations","imports","exports"],"mappings":"6QAOE,4HALDA,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,kECWZ,SAAAC,YAEAA,EAAAC,UAAAC,SAAA,sCAdDC,EAAAA,UAASL,KAAA,CAAC,CACTM,SAAU,cACVC,SAAU,2GCGV,SAAAC,EAAoBC,EAA8BC,GAA9BC,KAAAF,WAAAA,EAA8BE,KAAAD,SAAAA,EAD7BC,KAAAC,WAAoB,SAGzCJ,EAAAL,UAAAU,gBAAA,WACEF,KAAKG,UAEAN,EAAAL,UAAAW,OAAA,WACLH,KAAKD,SAASK,OAAOJ,KAAKF,WAAWO,cAAcC,cAAc,SAAS,SAASN,KAAKO,SAASC,KAAKR,QAExGH,EAAAL,UAAAe,SAAA,SAASE,GAAT,IAAAC,EAAAV,KACMW,EAASX,KAAKF,WAAWO,cAAcC,cAAc,SACrDM,EAAOZ,KAAKF,WAAWO,cAAcC,cAAc,SACvDK,EAAOE,MAAMC,UAAY,eAAeL,EAAMM,WAAWC,WAAU,MAChEhB,KAAKC,WAAW,IACjBU,EAAOM,WAAWC,SAAQ,SAAAC,GAExB,YADIC,EAAIV,EAAKT,WACJoB,EAAI,EAAGA,EAAID,EAAGC,IACY,QAAZ,QAAhBC,EAAAH,EAAGF,WAAWI,UAAE,IAAAC,OAAA,EAAAA,EAAET,aAA6CU,KAAX,QAAhBC,EAAAL,EAAGF,WAAWI,UAAE,IAAAG,OAAA,EAAAA,EAAEX,SACvDM,EAAGF,WAAWI,GAAGR,MAAMY,SAAW,WAClCN,EAAGF,WAAWI,GAAGR,MAAMC,UAAY,aAAaL,EAAMM,WAAWC,WAAU,UAInFJ,EAAKK,WAAWC,SAAQ,SAAAC,GACtB,YAASE,EAAI,EAAGA,EAAIX,EAAKT,WAAYoB,IACJ,QAAZ,QAAhBC,EAAAH,EAAGF,WAAWI,UAAE,IAAAC,OAAA,EAAAA,EAAET,aAA6CU,KAAX,QAAhBC,EAAAL,EAAGF,WAAWI,UAAE,IAAAG,OAAA,EAAAA,EAAEX,SACvDM,EAAGF,WAAWI,GAAGR,MAAMY,SAAW,WAClCN,EAAGF,WAAWI,GAAGR,MAAMC,UAAY,aAAaL,EAAMM,WAAWC,WAAU,qCA/BtFU,EAAAA,UAASrC,KAAA,CAAC,CACTM,SAAU,6DAHuBgC,EAAAA,kBAAmBC,EAAAA,iDAMnDC,EAAAA,MAAKxC,KAAA,CAAC,uBCMT,iCANCyC,EAAAA,SAAQzC,KAAA,CAAC,CACR0C,aAAc,CAACxC,EAAiBM,GAChCmC,QAAS,GAETC,QAAS,CAAC1C,EAAgBM","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VoiLibService {\n\n  constructor() { }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-voi-lib',\n  template: `\n    <p>\n      voi-lib works!\n    </p>\n  `,\n  styles: [\n  ]\n})\nexport class VoiLibComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { AfterViewInit, Directive, ElementRef, Input, Renderer2 } from '@angular/core';\n\n@Directive({\n  selector: '[voiPintable]'\n})\nexport class PintableDirective implements AfterViewInit {\n  @Input('pinnedCols') pinnedCols:number = 0;\n  constructor(private elementRef:ElementRef,private renderer:Renderer2) { }\n  \n  ngAfterViewInit(){\n    this.active();\n  }\n  public active(){\n    this.renderer.listen(this.elementRef.nativeElement.querySelector('tbody'),'scroll',this.onScroll.bind(this))\n  }\n  onScroll(event){\n    let header = this.elementRef.nativeElement.querySelector('thead');\n    let body = this.elementRef.nativeElement.querySelector('tbody');\n    header.style.transform = `translateX(-${event.srcElement.scrollLeft}px)`;\n    if(this.pinnedCols>0){\n      header.childNodes.forEach(tr => {\n        let n = this.pinnedCols;\n        for (let i = 0; i < n; i++) {\n            if(tr.childNodes[i]?.style !== null && tr.childNodes[i]?.style!== undefined){\n              tr.childNodes[i].style.position = `relative`;\n              tr.childNodes[i].style.transform = `translate(${event.srcElement.scrollLeft}px)`;\n            }\n        }\n      });\n      body.childNodes.forEach(tr => {\n        for (let i = 0; i < this.pinnedCols; i++) {\n          if(tr.childNodes[i]?.style !== null && tr.childNodes[i]?.style!== undefined){\n            tr.childNodes[i].style.position = `relative`;\n            tr.childNodes[i].style.transform = `translate(${event.srcElement.scrollLeft}px)`;\n          }\n        }\n      });\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { VoiLibComponent } from './voi-lib.component';\nimport { PintableDirective } from './pintable.directive';\n\n\n\n@NgModule({\n  declarations: [VoiLibComponent, PintableDirective],\n  imports: [\n  ],\n  exports: [VoiLibComponent,PintableDirective]\n})\nexport class VoiLibModule { }\n"]}